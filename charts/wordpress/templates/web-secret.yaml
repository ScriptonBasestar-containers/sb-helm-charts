apiVersion: v1
kind: Secret
metadata:
  name: {{ include "wordpress.fullname" . }}-secret
  labels:
    {{- include "wordpress.labels" . | nindent 4 }}
type: Opaque
stringData:
  # MySQL database connection
  {{- if not .Values.mysql.external.existingSecret.enabled }}
  WORDPRESS_DB_HOST: "{{ .Values.mysql.external.host }}:{{ .Values.mysql.external.port }}"
  WORDPRESS_DB_USER: {{ .Values.mysql.external.username | quote }}
  WORDPRESS_DB_PASSWORD: {{ .Values.mysql.external.password | quote }}
  WORDPRESS_DB_NAME: {{ .Values.mysql.external.database | quote }}
  WORDPRESS_DB_PORT: {{ .Values.mysql.external.port | quote }}
  {{- end }}

  # WordPress admin credentials
  WORDPRESS_ADMIN_USER: {{ .Values.wordpress.admin.username | quote }}
  WORDPRESS_ADMIN_PASSWORD: {{ .Values.wordpress.admin.password | quote }}
  WORDPRESS_ADMIN_EMAIL: {{ .Values.wordpress.admin.email | quote }}
