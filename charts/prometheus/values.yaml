# Default values for prometheus.

# Number of Prometheus instances
replicaCount: 1

image:
  repository: prom/prometheus
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion
  tag: ""

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

# Prometheus configuration
prometheus:
  # Use an existing ConfigMap for Prometheus configuration
  existingConfigMap: ""

  # Global configuration
  global:
    scrapeInterval: "15s"
    evaluationInterval: "15s"
    externalLabels:
      cluster: "kubernetes"
      custom: {}

  # Data retention
  retention:
    time: "15d"
    size: "0"  # 0 means no size-based retention

  # Enable admin API (for snapshot, delete series, etc.)
  enableAdminAPI: false

  # Kubernetes service discovery
  kubernetesSD:
    enabled: true

  # Alerting configuration
  alerting:
    enabled: false
    alertmanagers: []
    # - alertmanager.default.svc.cluster.local:9093

  # Rule files
  ruleFiles: []
  # - /etc/prometheus/rules/*.yml

  # Additional scrape configurations
  additionalScrapeConfigs: []
  # - job_name: 'my-app'
  #   static_configs:
  #     - targets: ['my-app:8080']

  # Additional Prometheus configuration
  # This will be merged with the generated config
  config: {}

  # Extra arguments for Prometheus
  extraArgs: []
  # - --web.external-url=http://prometheus.example.com

  # Extra volumes
  extraVolumes: []
  # - name: rules
  #   configMap:
  #     name: prometheus-rules

  # Extra volume mounts
  extraVolumeMounts: []
  # - name: rules
  #   mountPath: /etc/prometheus/rules

rbac:
  # Create RBAC resources
  create: true

serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

podAnnotations: {}

podSecurityContext:
  fsGroup: 65534
  runAsUser: 65534
  runAsNonRoot: true

securityContext:
  capabilities:
    drop:
    - ALL
  readOnlyRootFilesystem: true
  runAsNonRoot: true
  runAsUser: 65534

service:
  type: ClusterIP
  port: 9090
  annotations: {}

resources:
  limits:
    cpu: 2000m
    memory: 2Gi
  requests:
    cpu: 500m
    memory: 512Mi

livenessProbe:
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3

readinessProbe:
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3

# Persistence configuration
persistence:
  enabled: true
  # storageClass: "-"
  annotations: {}
  accessMode: ReadWriteOnce
  size: 50Gi

nodeSelector: {}

tolerations: []

affinity: {}
