# Default values for node-exporter.

image:
  repository: prom/node-exporter
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion
  tag: ""

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

# Host network and PID namespace
hostNetwork: true
hostPID: true

# Collectors configuration
collectors:
  enabled: true
  # Collectors to enable (in addition to defaults)
  enable: []
  # - processes
  # Collectors to disable
  disable:
    - ipvs  # Disable IPVS collector by default

# Extra arguments for node-exporter
extraArgs: []
# - --collector.filesystem.mount-points-exclude=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/.+)($|/)
# - --collector.filesystem.fs-types-exclude=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$

# Extra volumes
extraVolumes: []
# - name: textfile
  #   hostPath:
  #     path: /var/lib/node-exporter

# Extra volume mounts
extraVolumeMounts: []
# - name: textfile
#   mountPath: /host/textfile
#   readOnly: true

serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

podAnnotations: {}

podSecurityContext:
  runAsUser: 65534
  runAsNonRoot: true
  fsGroup: 65534

securityContext:
  # Node exporter needs to access host filesystem
  readOnlyRootFilesystem: true
  allowPrivilegeEscalation: false
  capabilities:
    drop:
      - ALL

service:
  type: ClusterIP
  port: 9100
  annotations: {}
  # prometheus.io/scrape: "true"
  # prometheus.io/port: "9100"

# ServiceMonitor for Prometheus Operator
serviceMonitor:
  enabled: false
  interval: 30s
  scrapeTimeout: 10s
  # Additional labels for ServiceMonitor
  labels: {}
  # Relabelings to apply to samples before ingestion
  relabelings: []
  # Metric relabelings to apply to samples before ingestion
  metricRelabelings: []

resources:
  limits:
    cpu: 200m
    memory: 128Mi
  requests:
    cpu: 100m
    memory: 64Mi

livenessProbe:
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 1
  failureThreshold: 3

readinessProbe:
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 1
  failureThreshold: 3

# DaemonSet update strategy
updateStrategy:
  type: RollingUpdate
  rollingUpdate:
    maxUnavailable: 1

nodeSelector: {}

tolerations:
  # Run on all nodes including masters
  - effect: NoSchedule
    operator: Exists

affinity: {}

# Priority class for pod scheduling
priorityClassName: ""
